# day23-日志库的设计和实现

在服务器编程中，日志是必不可少的，生产环境中应做到Log Everything All The Time。

一个日志库需要完成的功能主要有:

* 多种日志级别
* 日志输出目的地为本地文件
* 支持日志文件rooling(按天，按大小)，简化日志归档
* 日志文件命名(进程名+创建日期+创建时间+机器名+进程id+后缀log)
* 日志消息格式固定(日期+时间+线程id+日志级别+源文件名和行号+日志信息)

当前将首先实现功能1和功能5并将日志输出至终端。

为了流式化输出日志，首先需要定义自己的`LogStream`类，重载`<<`操作符，之所以不直接时用`iostream`是因为，其格式化输出麻烦，并且其操作并不是原子化的。

具体的，在进行这一步操作时，`LogStream`将`<<`符号后的元素放入一个固定的`FixedBuffer`中，将其交于后续的函数进行操作。

由于此处的`FixedBuffer`是定长的，且与网络端的`Buffer`是不同的，因此需要额外的定义一个`FixedBuffer`.